{"ast":null,"code":"import { Cart } from '../shared/models/Cart';\nimport { CartItem } from '../shared/models/Cartitem';\nimport * as i0 from \"@angular/core\";\nexport class CartService {\n  constructor(cartService) {\n    this.cartService = cartService;\n    this.cart = new Cart();\n    this.setCart();\n  }\n  addtToCart(food) {\n    let cartItem = this.cart.items.find(item => item.food.id === food.id);\n    if (cartItem) {\n      this.changeQuantity(food.id, cartItem.quantity + 1);\n      return;\n    }\n    this.cart.items.push(new CartItem(food));\n  }\n  setCart() {\n    this.cart = this.cartService.getCart();\n  }\n  removeFromCart(foodId) {\n    this.cart.items = this.cart.items.filter(item => item.food.id != foodId);\n    this.setCart();\n  }\n  changeQuantity(quantity, foodId) {\n    let cartItem = this.cart.items.find(item => item.food.id === foodId);\n    if (!cartItem) {\n      CartItem.quantity = quantity;\n    }\n  }\n  getCart() {\n    return this.cart;\n  }\n}\nCartService.ɵfac = function CartService_Factory(t) {\n  return new (t || CartService)(i0.ɵɵinject(CartService));\n};\nCartService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: CartService,\n  factory: CartService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"names":["Cart","CartItem","CartService","constructor","cartService","cart","setCart","addtToCart","food","cartItem","items","find","item","id","changeQuantity","quantity","push","getCart","removeFromCart","foodId","filter","i0","ɵɵinject","factory","ɵfac","providedIn"],"sources":["C:\\Users\\91909\\Documents\\Ecommerce\\src\\app\\services\\cart.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Cart } from '../shared/models/Cart';\nimport { Foods } from '../shared/models/food';\nimport { CartItem } from '../shared/models/Cartitem';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CartService {\n  private cart:Cart = new Cart();\n  constructor(private cartService:CartService){\n    this.setCart();\n  }\n  addtToCart(food:Foods) :void{\n    let cartItem = this.cart.items.find(item => item.food.id === food.id);\n    if(cartItem){\n      this.changeQuantity(food.id , cartItem.quantity + 1);\n      return;\n    }\n    this.cart.items.push(new CartItem(food));\n  }\n  setCart()\n  {\n    this.cart = this.cartService.getCart();\n  }\n  removeFromCart(foodId:number):void{\n    this.cart.items = this.cart.items.filter(item => item.food.id!=foodId);\n    this.setCart();\n  }\n  changeQuantity(quantity:number, foodId:number){\n    let cartItem = this.cart.items.find(item => item.food.id === foodId);\n    if(!cartItem){\n      CartItem.quantity = quantity;\n    }\n  }\n  getCart():Cart{\n    return this.cart;\n  }\n}\n"],"mappings":"AACA,SAASA,IAAI,QAAQ,uBAAuB;AAE5C,SAASC,QAAQ,QAAQ,2BAA2B;;AAKpD,OAAM,MAAOC,WAAW;EAEtBC,YAAoBC,WAAuB;IAAvB,KAAAA,WAAW,GAAXA,WAAW;IADvB,KAAAC,IAAI,GAAQ,IAAIL,IAAI,EAAE;IAE5B,IAAI,CAACM,OAAO,EAAE;EAChB;EACAC,UAAUA,CAACC,IAAU;IACnB,IAAIC,QAAQ,GAAG,IAAI,CAACJ,IAAI,CAACK,KAAK,CAACC,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACJ,IAAI,CAACK,EAAE,KAAKL,IAAI,CAACK,EAAE,CAAC;IACrE,IAAGJ,QAAQ,EAAC;MACV,IAAI,CAACK,cAAc,CAACN,IAAI,CAACK,EAAE,EAAGJ,QAAQ,CAACM,QAAQ,GAAG,CAAC,CAAC;MACpD;;IAEF,IAAI,CAACV,IAAI,CAACK,KAAK,CAACM,IAAI,CAAC,IAAIf,QAAQ,CAACO,IAAI,CAAC,CAAC;EAC1C;EACAF,OAAOA,CAAA;IAEL,IAAI,CAACD,IAAI,GAAG,IAAI,CAACD,WAAW,CAACa,OAAO,EAAE;EACxC;EACAC,cAAcA,CAACC,MAAa;IAC1B,IAAI,CAACd,IAAI,CAACK,KAAK,GAAG,IAAI,CAACL,IAAI,CAACK,KAAK,CAACU,MAAM,CAACR,IAAI,IAAIA,IAAI,CAACJ,IAAI,CAACK,EAAE,IAAEM,MAAM,CAAC;IACtE,IAAI,CAACb,OAAO,EAAE;EAChB;EACAQ,cAAcA,CAACC,QAAe,EAAEI,MAAa;IAC3C,IAAIV,QAAQ,GAAG,IAAI,CAACJ,IAAI,CAACK,KAAK,CAACC,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACJ,IAAI,CAACK,EAAE,KAAKM,MAAM,CAAC;IACpE,IAAG,CAACV,QAAQ,EAAC;MACXR,QAAQ,CAACc,QAAQ,GAAGA,QAAQ;;EAEhC;EACAE,OAAOA,CAAA;IACL,OAAO,IAAI,CAACZ,IAAI;EAClB;;AA7BWH,WAAW,C;mBAAXA,WAAW,EAAAmB,EAAA,CAAAC,QAAA,CAAApB,WAAA;AAAA;AAAXA,WAAW,C;SAAXA,WAAW;EAAAqB,OAAA,EAAXrB,WAAW,CAAAsB,IAAA;EAAAC,UAAA,EAFV;AAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}